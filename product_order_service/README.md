# Сервис заказа продуктов #

### Регистрация пользователя ###
Для регистрации пользователя необходимо перейти по адресу: /api/v1/registration/. В теле запроса нужно отправить имя,
адрес электронной почты, пароль, а если вы являетесь поставщиком, то и статус поставщика, например:
```
{"username": "test",
 "password": "test"}
```
Пользователь будет зарегистрирован. Для авторизации необходимо перейти по адресу: http://127.0.0.1:8000/auth/token/login/
также используя приложения перечисленные выше. В теле запроса нужно указать имя и пароль создаваемого пользователя,
так же, как и в предыдущем примере. В ответ придет Token назначенный пользователю. Данный токен необходимо указывать в
запросах для действий, которые разрешены только авторизованным пользователям. Например Ваш токен 123456, тогда при
выполнении запроса в HEADERS необходимо указать:
```
{"Authorization": "Token 123456"}
```
Для того, чтоб разлогинить пользователя, необходимо по адресу http://127.0.0.1:8000/auth/token/logout/ в HEADERS указать
токен, как в предыдущем примере, а тело запроса оставить пустым. Пользователь будет разлогинен.
### Продукты ###
Для просмотра списка продуктов перейдите по адресу: /api/v1/products/. Список товаров и информацию о конкретоном товаре
просматривать могут все. Если вы админ или поставщик (поставщик при регистрации должен к имени пользователя,
паролю и почте добавить "is_staff": true, по умолчанию ставится false), то можете добавлять продукты в список.
Админ или поставщик могут изменять информацию о товарах. Поставщик может менять информацию только о своих товарах.
Для более подробной информации о товаре к адресу добавьте id товара, например: /api/v1/products/1/. Для создания
продукта нужно на странице со списком товаров отправить название, описание и цену товара, например:
```
{
  "name": "product_name",
  "description": "product_description",
  "providers_info": [
    {"price": product_price_without_quotes(float)}
]
}
```
### Заказы ### 
Для создания заказа перейдите по адресу: /api/v1/orders/. Если пользователь является админом, то отобразится список
всех заказов. Для авторизованного пользователя отобразятся только свои заказы. Поставщик тоже имеет возможность сделать
заказ. Сделать заказ могут только авторизованные пользователи. Для создания заказа, введите в списке
"products_list" id продукта, id поставщика и количество (quantity). Ниже приведён пример заказа двух товаров от одного
или разных поставщиков: 
```
{"products_list": [{
               "product": product_id,
               "provider": provider_id
               "quantity": quantity(int)
              },
              {
               "product": product_id,
               "provider": provider_id
               "quantity": quantity(int)
              }]
}
```
Для получения информации о заказе добавьте к адресу id заказа, например: /api/v1/orders/1/. Зарегистрированные
пользователи могут просматривать только свои заказы, а также обновлять их находясь на странице просмотра заказа.
Для обновления нужно ввести новые данные в таком же формате, как при заказе. Админ может просматривать все заказы.
### Избранное и информация о пользователе ###
Для добавления товара в избранное перейдите по адресу: /api/v1/user-info/. Добавьте к адресу свой id из списка
пользователей, чтоб перейти на страницу вашей информации, например: /api/v1/user-info/1/. Просматривать может только
авторизованный пользователь и только свою информацию. На странице выводится список избранных товаров, а также заказы
сделанные пользователем на сайте. Для добавления товаров в избранное выберите товар из списка ниже и нажмите кнопку
"POST". Для выбора сразу нескольких товаров удерживаёте клавишу Ctrl.
### Регистрация пользователя ###
Для регистрации пользователя необходимо перейти по адресу: http://127.0.0.1:8000/auth/users/ используя, например, Postman
или расширение Talend API Tester. В теле запроса нужно отправить имя и пароль создаваемого пользователя, например:
```
{"username": "test",
 "password": "test"}
```
Пользователь будет зарегистрирован. Для авторизации необходимо перейти по адресу: http://127.0.0.1:8000/auth/token/login/
также используя приложения перечисленные выше. В теле запроса нужно указать имя и пароль создаваемого пользователя,
так же, как и в предыдущем примере. В ответ придет Token назначенный пользователю. Данный токен необходимо указывать в
запросах для действий, которые разрешены только авторизованным пользователям. Например Ваш токен 123456, тогда при
выполнении запроса в HEADERS необходимо указать:
```
{"Authorization": "Token 123456"}
```
Для того, чтоб разлогинить пользователя, необходимо по адресу http://127.0.0.1:8000/auth/token/logout/ в HEADERS указать
токен, как в предыдущем примере, а тело запроса оставить пустым. Пользователь будет разлогинен.